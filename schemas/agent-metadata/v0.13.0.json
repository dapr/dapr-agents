{
  "$defs": {
    "AgentMetadata": {
      "description": "Metadata about an agent's configuration and capabilities.",
      "properties": {
        "appid": {
          "description": "Dapr application ID (APP_ID) of the sidecar; may differ from the agent name",
          "title": "Appid",
          "type": "string"
        },
        "type": {
          "description": "Type of the agent (e.g., standalone, durable)",
          "title": "Type",
          "type": "string"
        },
        "orchestrator": {
          "default": false,
          "description": "Indicates if the agent is an orchestrator",
          "title": "Orchestrator",
          "type": "boolean"
        },
        "role": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Role of the agent",
          "title": "Role"
        },
        "goal": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "High-level objective of the agent",
          "title": "Goal"
        },
        "instructions": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Instructions for the agent",
          "title": "Instructions"
        },
        "system_prompt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "System prompt guiding the agent's behavior",
          "title": "System Prompt"
        },
        "framework": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Framework or library the agent is built with",
          "title": "Framework"
        },
        "max_iterations": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum iterations for agent execution",
          "title": "Max Iterations"
        },
        "tool_choice": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Tool choice strategy",
          "title": "Tool Choice"
        },
        "metadata": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Additional user-supplied metadata about the agent",
          "title": "Metadata"
        }
      },
      "required": [
        "appid",
        "type"
      ],
      "title": "AgentMetadata",
      "type": "object"
    },
    "LLMMetadata": {
      "description": "LLM configuration information.",
      "properties": {
        "client": {
          "description": "LLM client used by the agent",
          "title": "Client",
          "type": "string"
        },
        "provider": {
          "description": "LLM provider used by the agent",
          "title": "Provider",
          "type": "string"
        },
        "api": {
          "default": "unknown",
          "description": "API type used by the LLM client",
          "title": "Api",
          "type": "string"
        },
        "model": {
          "default": "unknown",
          "description": "Model name or identifier",
          "title": "Model",
          "type": "string"
        },
        "resource_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Dapr resource name for the LLM client",
          "title": "Resource Name"
        },
        "base_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Base URL for the LLM API if applicable",
          "title": "Base Url"
        },
        "azure_endpoint": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Azure endpoint if using Azure OpenAI",
          "title": "Azure Endpoint"
        },
        "azure_deployment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Azure deployment name if using Azure OpenAI",
          "title": "Azure Deployment"
        },
        "prompt_template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Prompt template used by the agent",
          "title": "Prompt Template"
        }
      },
      "required": [
        "client",
        "provider"
      ],
      "title": "LLMMetadata",
      "type": "object"
    },
    "MemoryMetadata": {
      "description": "Memory configuration information.",
      "properties": {
        "short_term": {
          "anyOf": [
            {
              "$ref": "#/$defs/MemoryStoreMetadata"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Short-term workflow state store"
        },
        "long_term": {
          "anyOf": [
            {
              "$ref": "#/$defs/MemoryStoreMetadata"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Long-term conversation memory store"
        }
      },
      "title": "MemoryMetadata",
      "type": "object"
    },
    "MemoryStoreMetadata": {
      "description": "Metadata about a single memory backing store.",
      "properties": {
        "type": {
          "description": "Implementation class name",
          "title": "Type",
          "type": "string"
        },
        "resource_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Dapr resource name for this store",
          "title": "Resource Name"
        }
      },
      "required": [
        "type"
      ],
      "title": "MemoryStoreMetadata",
      "type": "object"
    },
    "PubSubMetadata": {
      "description": "Pub/Sub configuration information.",
      "properties": {
        "resource_name": {
          "description": "Pub/Sub component name",
          "title": "Resource Name",
          "type": "string"
        },
        "broadcast_topic": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Pub/Sub topic for broadcasting messages",
          "title": "Broadcast Topic"
        },
        "agent_topic": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Pub/Sub topic for direct agent messages",
          "title": "Agent Topic"
        }
      },
      "required": [
        "resource_name"
      ],
      "title": "PubSubMetadata",
      "type": "object"
    },
    "RegistryMetadata": {
      "description": "Registry configuration information.",
      "properties": {
        "resource_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Dapr resource name backing the registry (e.g. state store component)",
          "title": "Resource Name"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Logical team name the agent is registered under",
          "title": "Name"
        }
      },
      "title": "RegistryMetadata",
      "type": "object"
    },
    "ToolMetadata": {
      "description": "Metadata about a tool available to the agent.",
      "properties": {
        "name": {
          "description": "Name of the tool",
          "title": "Name",
          "type": "string"
        },
        "description": {
          "description": "Description of the tool's functionality",
          "title": "Description",
          "type": "string"
        },
        "args": {
          "description": "Arguments for the tool",
          "title": "Args",
          "type": "string"
        }
      },
      "required": [
        "name",
        "description",
        "args"
      ],
      "title": "ToolMetadata",
      "type": "object"
    }
  },
  "description": "Schema for agent metadata including schema version.",
  "properties": {
    "version": {
      "description": "Version of the schema used for the agent metadata.",
      "title": "Version",
      "type": "string"
    },
    "agent": {
      "$ref": "#/$defs/AgentMetadata",
      "description": "Agent configuration and capabilities"
    },
    "name": {
      "description": "Logical agent name used as the registry key; distinct from agent.appid",
      "title": "Name",
      "type": "string"
    },
    "registered_at": {
      "description": "ISO 8601 timestamp of registration",
      "title": "Registered At",
      "type": "string"
    },
    "pubsub": {
      "anyOf": [
        {
          "$ref": "#/$defs/PubSubMetadata"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Pub/sub configuration if enabled"
    },
    "memory": {
      "anyOf": [
        {
          "$ref": "#/$defs/MemoryMetadata"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Memory configuration if enabled"
    },
    "llm": {
      "anyOf": [
        {
          "$ref": "#/$defs/LLMMetadata"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "LLM configuration"
    },
    "registry": {
      "anyOf": [
        {
          "$ref": "#/$defs/RegistryMetadata"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Registry configuration"
    },
    "tools": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/$defs/ToolMetadata"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Available tools",
      "title": "Tools"
    }
  },
  "required": [
    "version",
    "agent",
    "name",
    "registered_at"
  ],
  "title": "AgentMetadataSchema",
  "type": "object",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "0.13.0"
}